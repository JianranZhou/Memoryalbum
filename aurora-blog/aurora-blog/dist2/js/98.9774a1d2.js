"use strict";(self["webpackChunkaurora_blog"]=self["webpackChunkaurora_blog"]||[]).push([[98],{26664:function(e,a,t){t.d(a,{Z:function(){return p}});var r=t(73396),n=t(87139);const i={class:"paginator"},l=["onClick"];function o(e,a,t,o,s,c){const g=(0,r.up)("svg-icon");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("ul",null,[e.currentPage>1?((0,r.wg)(),(0,r.iD)("li",{key:0,class:"text-ob-bright",onClick:a[0]||(a[0]=a=>e.pageChangeEmitter(e.currentPage-1))},[(0,r.Wm)(g,{"icon-class":"arrow-left"}),(0,r.Uk)(" "+(0,n.zw)(e.t("settings.paginator.newer")),1)])):(0,r.kq)("",!0),0!==e.paginator.head?((0,r.wg)(),(0,r.iD)("li",{key:1,class:(0,n.C_)({active:e.currentPage===e.paginator.head}),onClick:a[1]||(a[1]=a=>e.pageChangeEmitter(e.paginator.head))},(0,n.zw)(e.paginator.head),3)):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.paginator.pages,((a,t)=>((0,r.wg)(),(0,r.iD)("li",{key:t,class:(0,n.C_)({active:e.currentPage===a}),onClick:t=>e.pageChangeEmitter(a)},(0,n.zw)(a),11,l)))),128)),0!==e.paginator.end?((0,r.wg)(),(0,r.iD)("li",{key:2,class:(0,n.C_)({active:e.currentPage===e.paginator.end}),onClick:a[2]||(a[2]=a=>e.pageChangeEmitter(e.paginator.end))},(0,n.zw)(e.paginator.end),3)):(0,r.kq)("",!0),e.currentPage<e.pages?((0,r.wg)(),(0,r.iD)("li",{key:3,class:"text-ob-bright",onClick:a[3]||(a[3]=a=>e.pageChangeEmitter(e.currentPage+1))},[(0,r.Uk)((0,n.zw)(e.t("settings.paginator.older"))+" ",1),(0,r.Wm)(g,{"icon-class":"arrow-right"})])):(0,r.kq)("",!0)])])}var s=t(44870),c=t(35213),g=(0,r.aZ)({name:"Paginator",emits:["pageChange"],props:["pageTotal","pageSize","page"],setup(e,{emit:a}){const{t:t}=(0,c.QT)(),n=(0,s.BK)(e),i=(0,r.Fl)((()=>Math.ceil(n.pageTotal.value/n.pageSize.value))),l=(0,r.Fl)((()=>{if(i.value<=3){const e=[];for(let a=0;a<i.value;a++)e.push(a+1);return{head:0,pages:e,end:0}}return n.page.value>=1&&n.page.value<3?{head:1,pages:[2,3,"..."],end:i.value}:n.page.value>=3&&n.page.value<=i.value-2?{head:1,pages:["...",n.page.value-1,n.page.value,n.page.value+1,"..."],end:i.value}:{head:1,pages:["...",i.value-2,i.value-1],end:i.value}})),o=e=>{"..."!==e&&a("pageChange",e)};return{currentPage:(0,r.Fl)((()=>n.page.value)),pageChangeEmitter:o,paginator:l,pages:i,t:t}}}),d=t(40089);const u=(0,d.Z)(g,[["render",o],["__scopeId","data-v-9fdb35d6"]]);var p=u},21372:function(e,a,t){t.r(a),t.d(a,{default:function(){return S}});var r=t(73396);const n={class:"block"};function i(e,a,t,i,l,o){const s=(0,r.up)("FeatureList"),c=(0,r.up)("Feature");return(0,r.wg)(),(0,r.iD)("div",n,[e.themeConfig.feature?((0,r.wg)(),(0,r.j4)(c,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(s)])),_:1})):(0,r.kq)("",!0)])}var l=t(44870);const o={id:"feature"};function s(e,a,t,n,i,l){const s=(0,r.up)("horizontal-article");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(s,{class:"home-horizontal-article"}),(0,r.WI)(e.$slots,"default")])}var c=t(30834),g=(0,r.aZ)({name:"Feature",components:{HorizontalArticle:c.Z},setup(){return{}}}),d=t(40089);const u=(0,d.Z)(g,[["render",s]]);var p=u,h=t(87139);const v={class:"inverted-main-grid py-8 gap-8 box-border"},m={class:"relative overflow-hidden h-56 lg:h-auto rounded-2xl bg-ob-deep-800 shadow-lg"},f={class:"ob-gradient-plate opacity-90 relative z-10 bg-ob-deep-900 rounded-2xl flex justify-start items-end px-8 pb-10 shadow-md"},b={class:"text-3xl pb-8 lg:pb-16"},C={class:"relative text-2xl text-ob-bright font-semibold"},k={class:"grid lg:grid-cols-2 gap-8"};function w(e,a,t,n,i,l){const o=(0,r.up)("svg-icon"),s=(0,r.up)("ArticleCard");return(0,r.wg)(),(0,r.iD)("div",v,[(0,r._)("div",m,[(0,r._)("div",f,[(0,r._)("h2",b,[(0,r._)("p",{style:(0,h.j5)(e.gradientText)},"EDITOR'S SELECTION",4),(0,r._)("span",C,[(0,r.Wm)(o,{class:"inline-block","icon-class":"hot"}),(0,r.Uk)(" "+(0,h.zw)(e.t("home.recommended")),1)])])]),(0,r._)("span",{class:"absolute top-0 w-full h-full z-0",style:(0,h.j5)(e.gradientBackground)},null,4)]),(0,r._)("ul",k,[e.featuredArticles.length>0?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(e.featuredArticles,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r.Wm)(s,{class:"home-featured-article",data:e},null,8,["data"])])))),128)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(2,(e=>(0,r._)("li",{key:e},[(0,r.Wm)(s,{data:{}})]))),64))])])}var y=t(57619),_=t(82866),x=t(35213),A=t(69298),T=(0,r.aZ)({name:"FeatureList",components:{ArticleCard:A.T},setup(){const e=(0,y.q)(),a=(0,_.W)(),{t:t}=(0,x.QT)();return{gradientBackground:(0,r.Fl)((()=>({background:e.themeConfig.header_gradient_css}))),gradientText:e.themeConfig.background_gradient_style,featuredArticles:(0,l.Vh)(a.$state,"featuredArticles"),t:t}}});const z=(0,d.Z)(T,[["render",w]]);var Z=z,E=t(50913),D=t(4922),F=t(83560),H=t(47139);const P=(0,H.Q_)("categoryStore",{state:()=>({categories:[]}),actions:{}});var W=t(26664),q=t(73286),B=t(69622),I=(0,r.aZ)({name:"Home",components:{Feature:p,FeatureList:Z,ArticleCard:A.T,HorizontalArticle:A.k,Title:E.b,Paginator:W.Z,Sidebar:D.YE,Profile:D.NZ,RecentComment:D.L6,TagBox:D.ac,Notice:D.qX,WebsiteInfo:D.a},setup(){const e=(0,y.q)(),a=(0,F.L)(),t=(0,_.W)(),n=P(),{t:i}=(0,x.QT)(),o=(0,l.iH)({"tab-expander":!0,expanded:!1}),s=(0,l.iH)({tab:!0,"expanded-tab":!1}),c=(0,l.iH)(0),g=(0,l.iH)(0),d=(0,l.qj)({haveArticles:!1}),u=(0,l.qj)({size:12,total:0,current:1});let p=0;(0,r.bv)((()=>{h(),f(),v();const e=document.getElementById("article-list");g.value=e&&e instanceof HTMLElement?e.offsetTop+120:0}));const h=()=>{q.Z.getTopAndFeaturedArticles().then((({data:e})=>{e.data.featuredArticles.forEach((e=>{e.memoryContent=(0,B.Z)(e.memoryContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")})),t.topArticle=e.data.topArticle,t.featuredArticles=e.data.featuredArticles}))},v=()=>{c.value=a.tab,p=a.tab,u.current=a.page,0===a.tab?(d.haveArticles=!1,q.Z.getArticles({keywords:"",current:u.current,size:u.size}).then((({data:e})=>{e.flag&&(e.data.records.forEach((e=>{e.memoryContent=(0,B.Z)(e.memoryContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")})),t.articles=e.data.records,u.total=e.data.count,d.haveArticles=!0)}))):m(a.tab)},m=e=>{d.haveArticles=!1,q.Z.getArticlesByCategoryId({current:u.current,size:u.size,categoryId:e}).then((({data:e})=>{e.data.records.forEach((e=>{e.memoryContent=(0,B.Z)(e.memoryContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")})),t.articles=e.data.records,u.total=e.data.count,d.haveArticles=!0}))},f=()=>{n.categories=[],q.Z.getAllCategories().then((({data:e})=>{n.categories.push(...e.data)}))},b=()=>{o.value.expanded=!o.value.expanded,s.value["expanded-tab"]=!s.value["expanded-tab"]},C=e=>{a.tab=e,a.page=1,u.current=1,c.value=e,p=e,k(),0===e?v():m(e)},k=()=>{window.scrollTo({top:g.value})},w=a=>a===c.value?{background:e.themeConfig.header_gradient_css}:{},A=e=>{a.page=e,u.current=e,k(),0===p?v():m(p)};return{...(0,l.BK)(d),...(0,l.BK)(t.$state),categories:(0,l.Vh)(n.$state,"categories"),gradientText:(0,r.Fl)((()=>e.themeConfig.background_gradient_style)),gradientBackground:(0,r.Fl)((()=>({background:e.themeConfig.header_gradient_css}))),themeConfig:(0,r.Fl)((()=>e.themeConfig)),expanderClass:o,tabClass:s,expandHandler:b,handleTabChange:C,activeTabStyle:w,activeTab:c,pagination:u,pageChangeHanlder:A,t:i}}});const L=(0,d.Z)(I,[["render",i]]);var S=L}}]);