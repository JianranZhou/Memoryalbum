"use strict";(self["webpackChunkaurora_blog"]=self["webpackChunkaurora_blog"]||[]).push([[861],{82866:function(e,t,a){a.d(t,{W:function(){return i}});var n=a(47139);const i=(0,n.Q_)("articleStore",{state:()=>({topArticle:"",featuredArticles:[],articles:[],categories:[],archives:[]}),actions:{}})},47919:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(73396),i=a(87139);const r={class:"breadcrumbs flex flex-row gap-6 text-white"};function l(e,t,a,l,s,o){return(0,n.wg)(),(0,n.iD)("ul",r,[(0,n._)("li",null,(0,i.zw)(e.t("menu.home")),1),(0,n._)("li",null,(0,i.zw)(e.current),1)])}var s=a(35213),o=(0,n.aZ)({name:"Breadcrumb",props:["current"],setup(){const{t:e}=(0,s.QT)();return{t:e}}}),c=a(40089);const g=(0,c.Z)(o,[["render",l],["__scopeId","data-v-64013c38"]]);var u=g},26664:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(73396),i=a(87139);const r={class:"paginator"},l=["onClick"];function s(e,t,a,s,o,c){const g=(0,n.up)("svg-icon");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("ul",null,[e.currentPage>1?((0,n.wg)(),(0,n.iD)("li",{key:0,class:"text-ob-bright",onClick:t[0]||(t[0]=t=>e.pageChangeEmitter(e.currentPage-1))},[(0,n.Wm)(g,{"icon-class":"arrow-left"}),(0,n.Uk)(" "+(0,i.zw)(e.t("settings.paginator.newer")),1)])):(0,n.kq)("",!0),0!==e.paginator.head?((0,n.wg)(),(0,n.iD)("li",{key:1,class:(0,i.C_)({active:e.currentPage===e.paginator.head}),onClick:t[1]||(t[1]=t=>e.pageChangeEmitter(e.paginator.head))},(0,i.zw)(e.paginator.head),3)):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.paginator.pages,((t,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a,class:(0,i.C_)({active:e.currentPage===t}),onClick:a=>e.pageChangeEmitter(t)},(0,i.zw)(t),11,l)))),128)),0!==e.paginator.end?((0,n.wg)(),(0,n.iD)("li",{key:2,class:(0,i.C_)({active:e.currentPage===e.paginator.end}),onClick:t[2]||(t[2]=t=>e.pageChangeEmitter(e.paginator.end))},(0,i.zw)(e.paginator.end),3)):(0,n.kq)("",!0),e.currentPage<e.pages?((0,n.wg)(),(0,n.iD)("li",{key:3,class:"text-ob-bright",onClick:t[3]||(t[3]=t=>e.pageChangeEmitter(e.currentPage+1))},[(0,n.Uk)((0,i.zw)(e.t("settings.paginator.older"))+" ",1),(0,n.Wm)(g,{"icon-class":"arrow-right"})])):(0,n.kq)("",!0)])])}var o=a(44870),c=a(35213),g=(0,n.aZ)({name:"Paginator",emits:["pageChange"],props:["pageTotal","pageSize","page"],setup(e,{emit:t}){const{t:a}=(0,c.QT)(),i=(0,o.BK)(e),r=(0,n.Fl)((()=>Math.ceil(i.pageTotal.value/i.pageSize.value))),l=(0,n.Fl)((()=>{if(r.value<=3){const e=[];for(let t=0;t<r.value;t++)e.push(t+1);return{head:0,pages:e,end:0}}return i.page.value>=1&&i.page.value<3?{head:1,pages:[2,3,"..."],end:r.value}:i.page.value>=3&&i.page.value<=r.value-2?{head:1,pages:["...",i.page.value-1,i.page.value,i.page.value+1,"..."],end:r.value}:{head:1,pages:["...",r.value-2,r.value-1],end:r.value}})),s=e=>{"..."!==e&&t("pageChange",e)};return{currentPage:(0,n.Fl)((()=>i.page.value)),pageChangeEmitter:s,paginator:l,pages:r,t:a}}}),u=a(40089);const p=(0,u.Z)(g,[["render",s],["__scopeId","data-v-9fdb35d6"]]);var d=p},38861:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var n=a(73396),i=a(87139);const r=e=>((0,n.dD)("data-v-6356a922"),e=e(),(0,n.Cn)(),e),l={class:"flex flex-col"},s={class:"post-header"},o={class:"post-title text-white uppercase"},c={class:"bg-ob-deep-800 px-14 py-16 rounded-2xl shadow-xl block min-h-screen"},g={class:"timeline timeline-centered",style:{position:"relative"}},u=(0,n.Uk)("Add Memory"),p={class:"timeline-item period"},d=r((()=>(0,n._)("div",{class:"timeline-info"},null,-1))),m=r((()=>(0,n._)("div",{class:"timeline-marker"},null,-1))),h={class:"timeline-content"},v={class:"timeline-title"},w={class:"timeline-info"},f=r((()=>(0,n._)("div",{class:"timeline-marker"},null,-1))),k={class:"timeline-content"},_={class:"timeline-title"};function C(e,t,a,r,C,z){const y=(0,n.up)("Breadcrumb"),b=(0,n.up)("el-button"),D=(0,n.up)("router-link"),x=(0,n.up)("Paginator");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",s,[(0,n.Wm)(y,{style:{"font-size":"22px"},current:e.t("menu.archives")},null,8,["current"]),(0,n._)("h1",o,(0,i.zw)(e.t("menu.archives")),1)]),(0,n._)("div",c,[(0,n._)("ul",g,[e.userInfo?((0,n.wg)(),(0,n.j4)(b,{key:0,onClick:e.memory,type:"primary",style:{position:"absolute",top:"-20px",right:"30px",width:"100px"}},{default:(0,n.w5)((()=>[u])),_:1},8,["onClick"])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.archives,(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:e.t(`settings.months[${t.time.split("-")[1]}]`)+"-"+t.time.split("-")[0]},[(0,n._)("li",p,[d,m,(0,n._)("div",h,[(0,n._)("h2",v,(0,i.zw)(e.t(`settings.months[${t.time.split("-")[1]-1}]`))+"Â "+(0,i.zw)(t.time.split("-")[0]),1)])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.articles,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"timeline-item",key:t.id},[(0,n._)("div",w,[(0,n._)("span",null,(0,i.zw)(e.t(`settings.months[${new Date(t.createTime).getMonth()}]`))+" "+(0,i.zw)(new Date(t.createTime).getDate())+", "+(0,i.zw)(new Date(t.createTime).getFullYear()),1)]),f,(0,n._)("div",k,[(0,n.Wm)(D,{to:"/articles/"+t.id},{default:(0,n.w5)((()=>[(0,n._)("h3",_,(0,i.zw)(t.memoryTitle),1)])),_:2},1032,["to"]),(0,n._)("p",null,(0,i.zw)(t.memoryContent),1)])])))),128))],64)))),128))]),(0,n.Wm)(x,{pageSize:e.pagination.size,pageTotal:e.pagination.total,page:e.pagination.current,onPageChange:e.pageChangeHanlder},null,8,["pageSize","pageTotal","page","onPageChange"])])])}var z=a(82866),y=a(45466),b=a(44870),D=a(35213),x=a(47919),P=a(26664),Z=a(73286),T=a(69622),E=a(53824),A=a(83560),H=(0,n.aZ)({name:"Archives",components:{Breadcrumb:x.Z,Paginator:P.Z},setup(){function e(){E.Z.push("/memory")}const t=(0,y.E)(),a=(0,A.L)(),i=(0,z.W)(),{t:r}=(0,D.QT)(),l=(0,b.qj)({current:1,total:0,size:12});(0,n.bv)((()=>{c(),s()})),(0,n.Ah)((()=>{t.resetHeaderImage()}));const s=()=>{i.archives="",Z.Z.getAllArchives({current:l.current,size:l.size}).then((({data:e})=>{e.data.records.forEach((e=>{e.articles.forEach((e=>{e.memoryContent=(0,T.Z)(e.memoryContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")}))})),i.archives=e.data.records,l.total=e.data.count}))},o=e=>{l.current=e,c(),s()},c=()=>{window.scrollTo({top:0})};return{userInfo:(0,b.Vh)(a.$state,"userInfo"),pageChangeHanlder:o,pagination:l,archives:(0,b.Vh)(i.$state,"archives"),memory:e,t:r}}}),I=a(40089);const W=(0,I.Z)(H,[["render",C],["__scopeId","data-v-6356a922"]]);var q=W}}]);